import streamlit as st
import pandas as pd
import random

st.set_page_config(page_title="××¢×¨×›×ª ×ª×—×–×™×•×ª ×•×•×™× ×¨", layout="centered")
st.title("ğŸ¯ ××¢×¨×›×ª ×—×™×–×•×™ ×—×›××” ×œ×•×•×™× ×¨")
st.write("×ª×—×–×™×•×ª ×—×›××•×ª ××‘×•×¡×¡×•×ª ×¡×˜×˜×™×¡×˜×™×§×” ×•×¨×•×•×— ×¦×¤×•×™ (×‘×”×ª×× ×œ×¡×›×•× ×”×™××•×¨ ×©×ª×‘×—×¨).")

# ×¡×›×•× ×”×™××•×¨ ×œ×‘×—×™×¨×ª ×”××©×ª××©
investment = st.number_input("×‘×—×¨ ×¡×›×•× ×”×™××•×¨ (â‚ª)", min_value=10, max_value=1000, value=30, step=10)

# × ×ª×•× ×™ ××©×—×§×™× ×œ×“×•×’××” (× ×›× ×™×¡ API ×‘×©×œ×‘ ×”×‘×)
games_data = [
    {"×§×‘×•×¦×•×ª": "××›×‘×™ ×ª×´× - ×”×¤×•×¢×œ ×—×™×¤×”", "×™×—×¡": 2.1, "×©×¢×¨×™× ×××•×¦×¢": 2.7, "×¡×•×’": "× ×™×¦×—×•×Ÿ ××›×‘×™"},
    {"×§×‘×•×¦×•×ª": "×¨×™××œ ××“×¨×™×“ - ××ª×œ×˜×™×§×•", "×™×—×¡": 1.8, "×©×¢×¨×™× ×××•×¦×¢": 3.1, "×¡×•×’": "××¢×œ 2.5 ×©×¢×¨×™×"},
    {"×§×‘×•×¦×•×ª": "×™×•×‘× ×˜×•×¡ - × ××¤×•×œ×™", "×™×—×¡": 2.6, "×©×¢×¨×™× ×××•×¦×¢": 1.9, "×¡×•×’": "× ×™×¦×—×•×Ÿ × ××¤×•×œ×™"},
    {"×§×‘×•×¦×•×ª": "×”×¤×•×¢×œ ×‘×´×© - ×‘×™×ª×´×¨", "×™×—×¡": 2.0, "×©×¢×¨×™× ×××•×¦×¢": 2.3, "×¡×•×’": "××ª×—×ª 2.5 ×©×¢×¨×™×"},
    {"×§×‘×•×¦×•×ª": "×‘×¨×¦×œ×•× ×” - ×¡×‘×™×œ×™×”", "×™×—×¡": 1.9, "×©×¢×¨×™× ×××•×¦×¢": 2.9, "×¡×•×’": "× ×™×¦×—×•×Ÿ ×‘×¨×¦×œ×•× ×”"},
]

def analyze_game(game):
    # ×—×™×©×•×‘ ×”×¡×ª×‘×¨×•×ª ×œ×¤×™ ×©×¢×¨×™× ×××•×¦×¢×™× (×¤×©×˜× ×™ ×œ×©×œ×‘ ×¨××©×•×Ÿ)
    prob = round(min(max(game["×©×¢×¨×™× ×××•×¦×¢"] / 4, 0.4), 0.85), 2)
    confidence = int(prob * 100)
    expected_profit = round((game["×™×—×¡"] * investment * prob) - investment, 2)
    recommendation = "âœ… ×›×“××™ ×œ×”××¨" if expected_profit > 5 else "âŒ ×œ× ××©×ª×œ×"
    icon = "ğŸŸ¢" if expected_profit > 5 else "ğŸ”´"
    return {
        "××©×—×§": game["×§×‘×•×¦×•×ª"],
        "×¡×•×’ ×”×™××•×¨": game["×¡×•×’"],
        "×™×—×¡": game["×™×—×¡"],
        "×©×¢×¨×™× ×××•×¦×¢": game["×©×¢×¨×™× ×××•×¦×¢"],
        "×”×¡×ª×‘×¨×•×ª ×”×¦×œ×—×”": f"{confidence}%",
        "×¨×•×•×— ×¦×¤×•×™": f"{expected_profit} â‚ª",
        "×”××œ×¦×”": f"{icon} {recommendation}"
    }

# ×¢×™×‘×•×“ ×›×œ ×”××©×—×§×™×
results = [analyze_game(game) for game in games_data]
df = pd.DataFrame(results)

# ×ª×¦×•×’×”
st.subheader("ğŸ“Š ×”×ª×—×–×™×•×ª ×œ×”×™×•×:")
st.dataframe(df, use_container_width=True)
